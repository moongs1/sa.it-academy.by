# 06.Ansible.Cruise hometask

```
ansible-playbook nginx_install.yaml -i my_servers.yaml
```
ansible output:

```
PLAY [my_servers] ***************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:52:08 +0000 (0:00:00.062)       0:00:00.062 *********
ok: [ubuntu_001]
ok: [centos_001]

TASK [nginx_install : Nginx.Debian Install] *************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:52:09 +0000 (0:00:01.314)       0:00:01.376 *********
skipping: [centos_001]
changed: [ubuntu_001]

TASK [nginx_install : Nginx.Debian Enable and start] ****************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:52:29 +0000 (0:00:19.552)       0:00:20.928 *********
skipping: [centos_001]
ok: [ubuntu_001]

TASK [nginx_install : Epel. Centos Install] *************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:52:30 +0000 (0:00:00.819)       0:00:21.748 *********
skipping: [ubuntu_001]
changed: [centos_001]

TASK [nginx_install : Nginx.Centos Install] *************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:52:50 +0000 (0:00:20.320)       0:00:42.068 *********
skipping: [ubuntu_001]
changed: [centos_001]

TASK [nginx_install : Nginx.Centos Enable and start] ****************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:24 +0000 (0:00:34.386)       0:01:16.455 *********
skipping: [ubuntu_001]
changed: [centos_001]

TASK [nginx_install : Firewall. Stop and disable] *******************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:25 +0000 (0:00:00.807)       0:01:17.262 *********
skipping: [ubuntu_001]
changed: [centos_001]

TASK [nginx_install : Copy. index.html Centos] **********************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:26 +0000 (0:00:01.009)       0:01:18.272 *********
skipping: [ubuntu_001]
changed: [centos_001]

TASK [nginx_install : Copy. index.html Debian] **********************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:27 +0000 (0:00:01.070)       0:01:19.342 *********
skipping: [centos_001]
changed: [ubuntu_001]

TASK [nginx_install : Testing. wait for] ****************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:28 +0000 (0:00:00.517)       0:01:19.860 *********
ok: [ubuntu_001]
ok: [centos_001]

TASK [nginx_install : Testing. curl] ********************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:28 +0000 (0:00:00.745)       0:01:20.605 *********
ok: [ubuntu_001]
ok: [centos_001]

TASK [nginx_install : debug] ****************************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:29 +0000 (0:00:00.790)       0:01:21.396 *********
ok: [centos_001] => (item={u'status': 200, u'content_length': u'82', u'cookies': {}, u'last_modified': u'Wed, 29 May 2019 14:53:27 GMT', u'content_type': u'text/html', u'date': u'Wed, 29 May 2019 14:53:29 GMT', u'url': u'http://localhost', u'changed': False, u'server': u'nginx/1.12.2', u'content': u'<!DOCTYPE html>\n<html>\n<body>\n\n<h1>Page deployed by Ansible</h1>\n\n</body>\n</html>\n', 'failed': False, u'connection': u'close', u'etag': u'"5cee9ce7-52"', u'msg': u'OK (82 bytes)', u'redirected': False, u'accept_ranges': u'bytes', u'cookies_string': u''}) => {
    "msg": {
        "accept_ranges": "bytes",
        "changed": false,
        "connection": "close",
        "content": "<!DOCTYPE html>\n<html>\n<body>\n\n<h1>Page deployed by Ansible</h1>\n\n</body>\n</html>\n",
        "content_length": "82",
        "content_type": "text/html",
        "cookies": {},
        "cookies_string": "",
        "date": "Wed, 29 May 2019 14:53:29 GMT",
        "etag": "\"5cee9ce7-52\"",
        "failed": false,
        "last_modified": "Wed, 29 May 2019 14:53:27 GMT",
        "msg": "OK (82 bytes)",
        "redirected": false,
        "server": "nginx/1.12.2",
        "status": 200,
        "url": "http://localhost"
    }
}
ok: [centos_001] => (item={'failed': False, u'state': u'started', u'search_regex': None, u'path': None, 'changed': False, u'port': 80, u'elapsed': 0}) => {
    "msg": {
        "changed": false,
        "elapsed": 0,
        "failed": false,
        "path": null,
        "port": 80,
        "search_regex": null,
        "state": "started"
    }
}
ok: [ubuntu_001] => (item={u'status': 200, u'content_length': u'82', u'cookies': {}, u'last_modified': u'Wed, 29 May 2019 14:53:27 GMT', u'content_type': u'text/html', u'date': u'Wed, 29 May 2019 14:53:29 GMT', u'url': u'http://localhost', u'changed': False, u'server': u'nginx/1.14.0 (Ubuntu)', u'content': u'<!DOCTYPE html>\n<html>\n<body>\n\n<h1>Page deployed by Ansible</h1>\n\n</body>\n</html>\n', 'failed': False, u'connection': u'close', u'etag': u'"5cee9ce7-52"', u'msg': u'OK (82 bytes)', u'redirected': False, u'accept_ranges': u'bytes', u'cookies_string': u''}) => {
    "msg": {
        "accept_ranges": "bytes",
        "changed": false,
        "connection": "close",
        "content": "<!DOCTYPE html>\n<html>\n<body>\n\n<h1>Page deployed by Ansible</h1>\n\n</body>\n</html>\n",
        "content_length": "82",
        "content_type": "text/html",
        "cookies": {},
        "cookies_string": "",
        "date": "Wed, 29 May 2019 14:53:29 GMT",
        "etag": "\"5cee9ce7-52\"",
        "failed": false,
        "last_modified": "Wed, 29 May 2019 14:53:27 GMT",
        "msg": "OK (82 bytes)",
        "redirected": false,
        "server": "nginx/1.14.0 (Ubuntu)",
        "status": 200,
        "url": "http://localhost"
    }
}
ok: [ubuntu_001] => (item={'failed': False, u'state': u'started', u'search_regex': None, u'path': None, 'changed': False, u'port': 80, u'elapsed': 0}) => {
    "msg": {
        "changed": false,
        "elapsed": 0,
        "failed": false,
        "path": null,
        "port": 80,
        "search_regex": null,
        "state": "started"
    }
}

TASK [nginx_install : Template. hosts] ******************************************************************************************************************************************************************************************************
Wednesday 29 May 2019  14:53:29 +0000 (0:00:00.214)       0:01:21.610 *********
changed: [ubuntu_001]
changed: [centos_001]

PLAY RECAP **********************************************************************************************************************************************************************************************************************************
centos_001                 : ok=10   changed=6    unreachable=0    failed=0
ubuntu_001                 : ok=8    changed=3    unreachable=0    failed=0

Wednesday 29 May 2019  14:53:30 +0000 (0:00:00.865)       0:01:22.475 *********
===============================================================================
nginx_install : Nginx.Centos Install ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 34.39s
nginx_install : Epel. Centos Install ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 20.32s
nginx_install : Nginx.Debian Install ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 19.55s
Gathering Facts ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.31s
nginx_install : Copy. index.html Centos ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.07s
nginx_install : Firewall. Stop and disable ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.01s
nginx_install : Template. hosts ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.87s
nginx_install : Nginx.Debian Enable and start ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.82s
nginx_install : Nginx.Centos Enable and start ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.81s
nginx_install : Testing. curl -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.79s
nginx_install : Testing. wait for ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.75s
nginx_install : Copy. index.html Debian ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.52s
nginx_install : debug ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.21s
```
